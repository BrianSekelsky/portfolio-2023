---
import CardLabel from "../Card-label.astro";
import Card from "../Card.astro";
import {Image} from "astro:assets";

import video from "../../images/homepage/animism.webm";
import gif from "../../images/homepage/animism.gif";

const title="Animistic Design"
const description="this is an explanation about project 4"
const year="2022"
const types=["Teaching // ", "AI"]
const size="small"
const hasVideo=true
const src="src/images/homepage/animism.gif"
const alt="Slideshow of images from class on animism"

interface Props {
  canPlayVideo: boolean;
}

const { canPlayVideo } = Astro.props;
---

<Card size="small" href="#">
    <div class="pb-3 text-center">
      <CardLabel value={title} , isLarge={true} />
    </div>
    <div class="video">
      <video width="600" height="600" playsinline autoplay muted loop>
          <source src={video} type="video/webm">
      </video>
    </div>
    <div class="gif">
      <Image src={gif} alt={alt} />
    </div>
    <div class="flex justify-between pt-3">
      <div class="flex flex-wrap gap-2">
        {
          types.map((type) => (
          <CardLabel value={type} , isLarge={false} />
          ))
        }
      </div>
      <div class="">
        <CardLabel value={year} , isLarge={false} />
      </div>
    </div>
</Card>

<style>
  img {
    width: 100%;
  }
</style>

<script>
  let v = document.createElement("video");
  if (v.canPlayType && v.canPlayType("video/mp4").replace(/no/, "")) {
    document.getElementById("gif").classList.add("hidden");
  } else {
    document.getElementById("video").classList.add("hidden");
  }
</script>
